#pragma checksum "C:\Document\VSproject\NewCity\NewCity\Views\Main\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "9595539e94181f7836347de82c86d93bb8a01b26"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Main_Index), @"mvc.1.0.view", @"/Views/Main/Index.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Main/Index.cshtml", typeof(AspNetCore.Views_Main_Index))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 1 "C:\Document\VSproject\NewCity\NewCity\Views\_ViewImports.cshtml"
using NewCity;

#line default
#line hidden
#line 2 "C:\Document\VSproject\NewCity\NewCity\Views\_ViewImports.cshtml"
using NewCity.Models;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"9595539e94181f7836347de82c86d93bb8a01b26", @"/Views/Main/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"428dca41bb5514e614701b69b27a8dec3a48fd5f", @"/Views/_ViewImports.cshtml")]
    public class Views_Main_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(0, 2, true);
            WriteLiteral("\r\n");
            EndContext();
#line 2 "C:\Document\VSproject\NewCity\NewCity\Views\Main\Index.cshtml"
  
    ViewData["Title"] = "Main";


#line default
#line hidden
            BeginContext(44, 2437, true);
            WriteLiteral(@"<style>
    #content {
        background-color:black;
        padding-top:20px;
    }
    #right{
        background-color:black;
        padding:1px 1px 1px 1px;
    }
    #main {
        background-color: black;
        border:5px solid rgb(135,125,112);
    }
    #left {
        background-color: black;
        padding: 1px 1px 1px 1px;
    }
    #right-content {
        margin: 5px 5px 5px 5px;
        background-color: rgb(174,165,132);

    }
    #left-content {
        margin: 5px 5px 5px 5px;
        background-color: rgb(174,165,132);

    }
    #main-content {

        background-color: rgb(174,165,132);
    }
    #Option{
        margin-top:50px
    }

    #Option > div{
        margin-top:50px;
    }
    .option-content :hover {
        background-color: aqua;
        color: aquamarine;
    }

    .main-content-img {
        margin-top: 20px;
    }
    .main-content-text {
        margin-top: 20px;
    }
    .option-content {
        background-co");
            WriteLiteral(@"lor: rgb(187,165,125);
        border: 3px solid rgb(135,125,112);
    }
    .option-content:hover {
        background-color:rgb(200,195,165);
    }
    .status-row {
        padding: 10px 10px 10px 10px;
    }
    .nav-tabs {
        border-bottom: 1px hidden #ddd;
    }
        .nav-tabs > li.active > a, .nav-tabs > li.active > a:hover, .nav-tabs > li.active > a:focus {
            border-color: rgb(174,165,132);
            background-color: rgb(174,165,132);
        }
        .nav-tabs > li > a {
            color: white
        }
</style>



<div class=""container-fluid"" id=""content"">
    <div class=""col-md-3"" id=""left"">
        <div id=""left-content"">
            <ul class=""nav nav-tabs"" style=""background-color:black"">
                <li class=""active"">
                    <a href=""#Status"" data-toggle=""tab"">属性</a>

                </li>
                <li>
                    <a href=""#Item"" data-toggle=""tab"">物品</a>

                </li>
            </ul>
        ");
            WriteLiteral(@"    <div class=""tab-content"">
                <div class=""tab-pane fade in active row"" id=""Status"">
                    
                </div>
                <div class=""tab-pane fade row"" id=""Item"">
                     
                </div>
            </div>
        </div>
    </div>
    <div id=""main"" class=""col-md-6 container-fluid"">
        <div id=""main-content"">
");
            EndContext();
#line 104 "C:\Document\VSproject\NewCity\NewCity\Views\Main\Index.cshtml"
             if (ViewBag.InLocation && ViewBag.ReadList != null)
            {

#line default
#line hidden
            BeginContext(2562, 181, true);
            WriteLiteral("                <div class=\"container-fluid\">\r\n                    <div class=\"col-md-4 main-content-img\">\r\n                        <p>123</p>\r\n                        <img id=\"Img\"");
            EndContext();
            BeginWriteAttribute("src", " src=\"", 2743, "\"", 2770, 1);
#line 109 "C:\Document\VSproject\NewCity\NewCity\Views\Main\Index.cshtml"
WriteAttributeValue("", 2749, ViewBag.ReadList.IMG, 2749, 21, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(2771, 132, true);
            WriteLiteral(" />\r\n                    </div>\r\n                    <div class=\"col-md-8 main-content-text\">\r\n                        <p id=\"Text\">");
            EndContext();
            BeginContext(2904, 21, false);
#line 112 "C:\Document\VSproject\NewCity\NewCity\Views\Main\Index.cshtml"
                                Write(ViewBag.ReadList.Text);

#line default
#line hidden
            EndContext();
            BeginContext(2925, 61, true);
            WriteLiteral("</p>\r\n                        <div class=\"row\" id=\"Option\">\r\n");
            EndContext();
#line 114 "C:\Document\VSproject\NewCity\NewCity\Views\Main\Index.cshtml"
                             foreach (var option in ViewBag.OperaList)
                            {

#line default
#line hidden
            BeginContext(3089, 90, true);
            WriteLiteral("                                <div class=\"row\">\r\n                                    <p>");
            EndContext();
            BeginContext(3180, 16, false);
#line 117 "C:\Document\VSproject\NewCity\NewCity\Views\Main\Index.cshtml"
                                  Write(option.StoryName);

#line default
#line hidden
            EndContext();
            BeginContext(3196, 69, true);
            WriteLiteral("</p>\r\n                                    <button class=\"btn-default\"");
            EndContext();
            BeginWriteAttribute("onclick", " onclick=\"", 3265, "\"", 3297, 3);
            WriteAttributeValue("", 3275, "NextCard(\'", 3275, 10, true);
#line 118 "C:\Document\VSproject\NewCity\NewCity\Views\Main\Index.cshtml"
WriteAttributeValue("", 3285, option.ID, 3285, 10, false);

#line default
#line hidden
            WriteAttributeValue("", 3295, "\')", 3295, 2, true);
            EndWriteAttribute();
            BeginContext(3298, 54, true);
            WriteLiteral(">继续</button>\r\n                                </div>\r\n");
            EndContext();
#line 120 "C:\Document\VSproject\NewCity\NewCity\Views\Main\Index.cshtml"
                            }

#line default
#line hidden
            BeginContext(3383, 84, true);
            WriteLiteral("                        </div>\r\n                    </div>\r\n                </div>\r\n");
            EndContext();
#line 124 "C:\Document\VSproject\NewCity\NewCity\Views\Main\Index.cshtml"
                
            }
            else if (!ViewBag.InLocation && ViewBag.ReadList != null)
            {

#line default
#line hidden
            BeginContext(3586, 182, true);
            WriteLiteral("                <div class=\"container-fluid\">\r\n                    <div class=\"col-md-4  main-content-img\">\r\n                        <p>123</p>\r\n                        <img id=\"Img\"");
            EndContext();
            BeginWriteAttribute("src", " src=\"", 3768, "\"", 3797, 1);
#line 131 "C:\Document\VSproject\NewCity\NewCity\Views\Main\Index.cshtml"
WriteAttributeValue("", 3774, ViewBag.ReadList.IMG, 3774, 23, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(3798, 133, true);
            WriteLiteral(" />\r\n                    </div>\r\n                    <div class=\"col-md-8  main-content-text\">\r\n                        <p id=\"Text\">");
            EndContext();
            BeginContext(3932, 21, false);
#line 134 "C:\Document\VSproject\NewCity\NewCity\Views\Main\Index.cshtml"
                                Write(ViewBag.ReadList.Text);

#line default
#line hidden
            EndContext();
            BeginContext(3953, 49, true);
            WriteLiteral("</p>\r\n                        <div id=\"Option\">\r\n");
            EndContext();
#line 136 "C:\Document\VSproject\NewCity\NewCity\Views\Main\Index.cshtml"
                             foreach (var option in ViewBag.ReadList.StoryOptions)
                            {

#line default
#line hidden
            BeginContext(4117, 69, true);
            WriteLiteral("                                <div class=\"col-md-12 option-content\"");
            EndContext();
            BeginWriteAttribute("onclick", "  onclick=\"", 4186, "\"", 4219, 3);
            WriteAttributeValue("", 4197, "NextCard(\'", 4197, 10, true);
#line 138 "C:\Document\VSproject\NewCity\NewCity\Views\Main\Index.cshtml"
WriteAttributeValue("", 4207, option.ID, 4207, 10, false);

#line default
#line hidden
            WriteAttributeValue("", 4217, "\')", 4217, 2, true);
            EndWriteAttribute();
            BeginContext(4220, 39, true);
            WriteLiteral(">\r\n                                    ");
            EndContext();
            BeginContext(4260, 11, false);
#line 139 "C:\Document\VSproject\NewCity\NewCity\Views\Main\Index.cshtml"
                               Write(option.Text);

#line default
#line hidden
            EndContext();
            BeginContext(4271, 42, true);
            WriteLiteral("\r\n                                </div>\r\n");
            EndContext();
#line 141 "C:\Document\VSproject\NewCity\NewCity\Views\Main\Index.cshtml"
                            }

#line default
#line hidden
            BeginContext(4344, 106, true);
            WriteLiteral("                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n");
            EndContext();
#line 146 "C:\Document\VSproject\NewCity\NewCity\Views\Main\Index.cshtml"
                
            }

#line default
#line hidden
            BeginContext(4483, 3839, true);
            WriteLiteral(@"        </div>
    </div>
    <div id=""right"" class=""col-md-3"" >
        <div id=""right-content"">
            <ul class=""nav nav-tabs"" style=""background-color:black"">
                <li class=""active"">
                    <a href=""#Task"" data-toggle=""tab"">事件</a>

                </li>
                <li>
                    <a href=""#History"" data-toggle=""tab"">历史</a>

                </li>
            </ul>
            <div class=""tab-content"">
                <div class=""tab-pane fade in active row"" id=""Task"">
                    
                </div>
                <div class=""tab-pane fade row"" id=""History"">
                    
                </div>
            </div>
        </div>
    </div>
</div>




<script>

    //初始读取
    window.onload = function () {
        GetItem();
        GetState();
        GetSchedule();

        SetHeight();
    }


    function NextCard(optionID) {

        $.post(
            '/Main/NextCard',
            { optionID: opt");
            WriteLiteral(@"ionID },
            function (result) {
                
                CleanContent();
                AddContent(result.text);
                AddOption(result.storyOptions)
            }
        )
    }



    //添加选项
    function AddOption(option) {
        for (var i in option) {
            $('#Option').append(""<button onclick = NextCard('"" + option[i].id + ""')>"" + option[i].text + ""</button>"")
        }
    }
    //添加内容框内容
    function AddContent(text) {
        //$('#Img')
        $('#Text').append(text);
    }
    //清除内容框
    function CleanContent() {
        $('#Text').empty();
        $('#Img').empty();
        $('#Option').empty();
    }

    //设置主界面高度
    function SetHeight() {
        debugger;
        let contentheight = $(""#content"").height();
        let windowheight = window.innerHeight * 2 - window.outerHeight;
        let h = contentheight > windowheight ? contentheight : windowheight;
        $(""#content"").css(""min-height"", windowheight+50);
        $");
            WriteLiteral(@"(""#left-content"").css(""min-height"",windowheight-20);
        $(""#right-content"").css(""min-height"",windowheight-20);
        $(""#main-content"").css(""min-height"",windowheight-20);
    }

    //获取人物状态
    function GetState() {
        $.get('/Main/GetState', function (data) {
            LoadRow(data, ""Status"");
        })
    }

    //获取人物背包
    function GetItem() {
        $.get('/Main/GetItem', function (data) {
            debugger;
            let jsonObj = JSON.parse(data);
            let html = '';
            for (let i in jsonObj) {
  
                html += ""<div class='row'>"" + jsonObj[i].Name + "":"" + jsonObj[i].Amount + ""</div>""
            }
            let content = ""<div class='row'>"" + html + ""</div>"";
            $(""#Item"").append(content);
        });
    }

    //获取任务列表
    function GetSchedule() {
        $.get('/Main/GetSchedule', function (data) {
 
            let jsonObj = JSON.parse(data);
            let html = '';
            for (let i in jsonObj) {");
            WriteLiteral(@"
          
                html += ""<div class='row'>"" + jsonObj[i].SeriesName + "":"" + jsonObj[i].Text + ""</div>""
            }
            let content = ""<div class='row'>"" + html + ""</div>"";
            $(""#Schedule"").append(content);
        });
    }

    //获取任务历史
    function GetHistory() {
        $.get('/Main/GetHistory', function (data) {

        });
    }


    //创建Json的行
    function LoadRow(json, traget) {
        let jsonObj = JSON.parse(json);
        let html = '';
        for (let i in jsonObj) {
            html += ""<div class='status-row row'>"" + i + "":"" + jsonObj[i] + ""</div>""
        }
        let content = ""<div class='row'>"" + html + ""</div>"";
        $(""#"" + traget).append(content);
    }




</script>
");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
