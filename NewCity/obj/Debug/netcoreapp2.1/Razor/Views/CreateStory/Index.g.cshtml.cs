#pragma checksum "F:\VisualStudioProject\NewCity\NewCity\Views\CreateStory\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "272a2baaca2e2515ba708f200a6e02af755be446"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_CreateStory_Index), @"mvc.1.0.view", @"/Views/CreateStory/Index.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/CreateStory/Index.cshtml", typeof(AspNetCore.Views_CreateStory_Index))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 1 "F:\VisualStudioProject\NewCity\NewCity\Views\_ViewImports.cshtml"
using NewCity;

#line default
#line hidden
#line 2 "F:\VisualStudioProject\NewCity\NewCity\Views\_ViewImports.cshtml"
using NewCity.Models;

#line default
#line hidden
#line 2 "F:\VisualStudioProject\NewCity\NewCity\Views\CreateStory\Index.cshtml"
using NewCity.Enum;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"272a2baaca2e2515ba708f200a6e02af755be446", @"/Views/CreateStory/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"428dca41bb5514e614701b69b27a8dec3a48fd5f", @"/Views/_ViewImports.cshtml")]
    public class Views_CreateStory_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<IEnumerable<NewCity.Models.StoryCard>>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/js/enum.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("id", new global::Microsoft.AspNetCore.Html.HtmlString("Condition-form"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("asp-action", "", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#line 3 "F:\VisualStudioProject\NewCity\NewCity\Views\CreateStory\Index.cshtml"
  
    ViewData["Title"] = "Creator";
    EnumConditionType enumConditionType = new EnumConditionType();

#line default
#line hidden
            BeginContext(179, 36, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "703cc5480c8f44f1a91bfa960119b4a7", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(215, 249, true);
            WriteLiteral("\r\n<!--故事卡包装为树。新建下一故事卡要在故事卡里面建-->\r\n<div class=\"container-fluid\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-4\">tree</div>\r\n        <div class=\"col-md-8\">\r\n            <div class=\"row\">\r\n                <div id=\"StoryId\">\r\n                    ");
            EndContext();
            BeginContext(466, 47, false);
#line 15 "F:\VisualStudioProject\NewCity\NewCity\Views\CreateStory\Index.cshtml"
                Write(Model.Count() > 0 ? Model.First().ID:Guid.Empty);

#line default
#line hidden
            EndContext();
            BeginContext(514, 84, true);
            WriteLiteral("\r\n                </div>\r\n                <div id=\"StoryName\">\r\n                    ");
            EndContext();
            BeginContext(600, 46, false);
#line 18 "F:\VisualStudioProject\NewCity\NewCity\Views\CreateStory\Index.cshtml"
                Write(Model.Count() > 0 ? Model.First().StoryName:"");

#line default
#line hidden
            EndContext();
            BeginContext(647, 178, true);
            WriteLiteral("\r\n                </div>\r\n            </div>\r\n            <div class=\"row\">\r\n                <div class=\"col-md-4\" id=\"Img\">\r\n                    <!--img-->\r\n                    ");
            EndContext();
            BeginContext(827, 40, false);
#line 24 "F:\VisualStudioProject\NewCity\NewCity\Views\CreateStory\Index.cshtml"
                Write(Model.Count() > 0 ? Model.First().IMG:"");

#line default
#line hidden
            EndContext();
            BeginContext(868, 99, true);
            WriteLiteral("\r\n                </div>\r\n                <div class=\"col-md-8\" id=\"Content\">\r\n                    ");
            EndContext();
            BeginContext(969, 41, false);
#line 27 "F:\VisualStudioProject\NewCity\NewCity\Views\CreateStory\Index.cshtml"
                Write(Model.Count() > 0 ? Model.First().Text:"");

#line default
#line hidden
            EndContext();
            BeginContext(1011, 122, true);
            WriteLiteral("\r\n                    <!--text-->\r\n                </div>\r\n            </div>\r\n            <div class=\"row\" id=\"Option\">\r\n");
            EndContext();
#line 32 "F:\VisualStudioProject\NewCity\NewCity\Views\CreateStory\Index.cshtml"
                 if (Model.Count() != 0)
                {
                    

#line default
#line hidden
#line 34 "F:\VisualStudioProject\NewCity\NewCity\Views\CreateStory\Index.cshtml"
                     foreach (var item in Model.First().StoryOptions)
                    {

#line default
#line hidden
            BeginContext(1288, 40, true);
            WriteLiteral("                        <div class=\"row\"");
            EndContext();
            BeginWriteAttribute("id", " id=\"", 1328, "\"", 1341, 1);
#line 36 "F:\VisualStudioProject\NewCity\NewCity\Views\CreateStory\Index.cshtml"
WriteAttributeValue("", 1333, item.ID, 1333, 8, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(1342, 52, true);
            WriteLiteral(">\r\n                            <button type=\"button\"");
            EndContext();
            BeginWriteAttribute("onclick", " onclick=\"", 1394, "\"", 1425, 3);
            WriteAttributeValue("", 1404, "Condition(\'", 1404, 11, true);
#line 37 "F:\VisualStudioProject\NewCity\NewCity\Views\CreateStory\Index.cshtml"
WriteAttributeValue("", 1415, item.ID, 1415, 8, false);

#line default
#line hidden
            WriteAttributeValue("", 1423, "\')", 1423, 2, true);
            EndWriteAttribute();
            BeginContext(1426, 60, true);
            WriteLiteral(">条件</button>\r\n                            <input type=\"text\"");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 1486, "\"", 1504, 1);
#line 38 "F:\VisualStudioProject\NewCity\NewCity\Views\CreateStory\Index.cshtml"
WriteAttributeValue("", 1494, item.Text, 1494, 10, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(1505, 52, true);
            WriteLiteral(">\r\n                            <button type=\"button\"");
            EndContext();
            BeginWriteAttribute("onclick", " onclick=\"", 1557, "\"", 1585, 3);
            WriteAttributeValue("", 1567, "Effect(\'", 1567, 8, true);
#line 39 "F:\VisualStudioProject\NewCity\NewCity\Views\CreateStory\Index.cshtml"
WriteAttributeValue("", 1575, item.ID, 1575, 8, false);

#line default
#line hidden
            WriteAttributeValue("", 1583, "\')", 1583, 2, true);
            EndWriteAttribute();
            BeginContext(1586, 145, true);
            WriteLiteral(">效果</button>\r\n                            <button type=\"button\" onclick=\"Cancel()\">取消</button>\r\n                            <button type=\"button\"");
            EndContext();
            BeginWriteAttribute("onclick", " onclick=\"", 1731, "\"", 1761, 3);
            WriteAttributeValue("", 1741, "NextCard(\'", 1741, 10, true);
#line 41 "F:\VisualStudioProject\NewCity\NewCity\Views\CreateStory\Index.cshtml"
WriteAttributeValue("", 1751, item.ID, 1751, 8, false);

#line default
#line hidden
            WriteAttributeValue("", 1759, "\')", 1759, 2, true);
            EndWriteAttribute();
            BeginContext(1762, 45, true);
            WriteLiteral(">→</button>\r\n                        </div>\r\n");
            EndContext();
#line 43 "F:\VisualStudioProject\NewCity\NewCity\Views\CreateStory\Index.cshtml"
                    }

#line default
#line hidden
#line 43 "F:\VisualStudioProject\NewCity\NewCity\Views\CreateStory\Index.cshtml"
                     
                }

#line default
#line hidden
            BeginContext(1849, 334, true);
            WriteLiteral(@"
                <button type=""button"" onclick=""AddOption()"">增加</button>foreach
            </div>
            <div class=""row"">
                <button type=""button"" class=""btn"" onclick=""Save()"">保存</button>
            </div>
        </div>
    </div>
</div>



<!--条件模态框-->
<div id=""Condition"" class=""modal fade"">
    ");
            EndContext();
            BeginContext(2183, 98, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("form", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "b38998d7f3bf4940933bdc0de554c3d2", async() => {
                BeginContext(2223, 51, true);
                WriteLiteral("\r\n\r\n        <button type=\"submit\">保存</button>\r\n    ");
                EndContext();
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper.Action = (string)__tagHelperAttribute_2.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_2);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(2281, 3486, true);
            WriteLiteral(@"
    <button onclick=""AddCondition()"">+</button>
</div>

<script>
    $(document).ready(function () {
        //返回第一个故事卡到主页面
        //加载树
    })


    function GetStoryCard() {
        //点击树加载该故事卡到主页面

    }

    function Save() {

    }

    //取消选项
    function Cancel(optionID) {

    }

    //下一张卡
    function NextCard(optionid) {

    }

    //增加按钮
    function AddOption() {
    //返回后台传回一个guid
    //建立页面
    }

    //设置条件
    function Condition(optionid) {
        //加载模态款数据
        //出现模态框
        //选择条件类型 人物参数/故事状态 参数 < > = trul false 123456789 10 json[{name=speed,条件=大于,value=6}]
        //保存 添加到list
        //保存数据库
        $.post(""/CreateStoryController/GetCondition"", { optionid: optionid }, function (data) {
            let json = JSON.parse(data);
            if (json) {
                for (let i in json) {
                    let StorySeries = ""<input hidden type='text' name='storyStates["" + i + ""].StorySeries' id='storyStates["" + i + ""].StorySeries'/>""");
            WriteLiteral(@";
                    let Name = ""<input readonly type='text' name='storyStates["" + i + ""].Name' id='storyStates["" + i +""].Name'/>"";
                    let Type = ""<select disabled name='storyStates["" + i + ""].Type' id='storyStates["" + i +""].Type'>"" +
                        + ""<option value='1'>></option>""
                        + ""<option value='2'><</option>""
                        + ""<option value='3'>=</option>""
                        + ""<option value='4'>≠</option>""
                        + ""</select>"";
                    let Value = ""<input readonly type='text' name='storyStates["" + i + ""].Value' id='storyStates["" + i + ""].Value'/>"";
                    let Edit = ""<div  id='EditCondition"" + i +""' onclick='EditCondition("" + i + "")'>编辑</div>"";
                    let Save = ""<div hidden id='SaveCondition""+i+""' style='display:none' onclick='SaveCondition("" + i + "")'>保存</div>"";
                    let Delete = ""<div onclick='ConditionCancel("" + i + "")'>取消</div>"";

                    to");
            WriteLiteral(@"append = Name + Type + Value + Save + Edit+Delete + StorySeries;
                    let toappend = ""<div class='row' id='condition""+i+""'>"" + context + ""</div>""
                    $(""#Condition-form"").append(toappend)

                    //赋值
                    $(""#storyStates["" + i +""].Name"").val(json[i].Name);
                    $(""#storyStates["" + i +""].Type"").text(enumConditionType[json[i].Type]);
                    $(""storyStates["" + i + ""].Type"").val(json[i].Type);
                    $(""storyStates["" + i + ""].Value"").val(json[i].Value);
                    $(""storyStates["" + i + ""].Value"").val(json[i].StorySeries);
                }

            }
        })
        $('#Condition').modal('show');

    }


    //编辑条件
    function EditCondition(conditionID) {
        $(""#storyStates["" + conditionID + ""].Type"").removeAttr(""disabled"");
        $(""#storyStates["" + conditionID + ""].Type"").removeAttr(""readonly"");
        $(""#storyStates["" + conditionID + ""].Type"").removeAttr(""reado");
            WriteLiteral(@"nly"");
        $('#SaveCondition' + i).show()
        $('#EditCondition' + i).hidden();
    }


    //取消条件
    function ConditionCancel(conditionID) {
        $(""#condition"" + conditionID + """").remove();
    }

    function SaveCondition(optionID) {
        
    }

    //增加条件
    function AddCondition() {

    }

    //设置效果
    function Effect(optionID) {

    }

    


</script>

");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<IEnumerable<NewCity.Models.StoryCard>> Html { get; private set; }
    }
}
#pragma warning restore 1591
